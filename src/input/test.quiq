struct OptionIsNoneSomeParams<T> {
  self: ref<Option<T>>
}

struct Option<T> {
  data: union<T, null>;
  is_some: fn<OptionIsNoneSomeParams<T>, bool>;
  is_none: fn<OptionIsNoneSomeParams<T>, bool>;
}

Option<int> o = <Option<int>>{
  data: null,
  is_some: func (ref<Option<int>> self) bool {
    return self.data != null;
  },
  is_none: func (ref<Option<int>> self) bool {
    return self.data == null;
  }
};

bool temp = o.is_some();
println(temp);
